<!DOCTYPE html>
<!--
██   ██ ███████ ██      ██       ██████  ██ 
██   ██ ██      ██      ██      ██    ██ ██ 
███████ █████   ██      ██      ██    ██ ██ 
██   ██ ██      ██      ██      ██    ██    
██   ██ ███████ ███████ ███████  ██████  ██ 
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Day 6 of Advent of Code 2025 in Charly</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Leonard Schütz">
    <meta name="description" content="Day 6 of Advent of Code 2025 in
Charly">
    <meta name="keywords" content="leonard schütz, programming, compilers, ">
    <meta name="language" content="English">
    <meta name="contact" content="hello@leonard.swiss">
    <meta name="date" content="Mon, 06 Dec 2025 15:45:00 +0100">

    <meta property="og:url" content="https://leonard.swiss/">
    <meta property="og:title" content="Day 6 of Advent of Code 2025 in Charly">
    <meta property="og:description" content="Day 6 of Advent of Code
2025 in Charly">
    <meta property="og:site_name" content="Leonard Schütz">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_US">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@leni4838">
    <meta name="twitter:title" content="Day 6 of Advent of Code 2025 in Charly">
    <meta name="twitter:description" content="Day 6 of Advent of Code
2025 in Charly">

    <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico'/>
    <link rel="stylesheet" type="text/css" href="/resources/css/style.css"/>
    <link rel="alternate" type="application/rss+xml" title="Blog" href="/feed.xml" />
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

          <style type="text/css">
        code {
          white-space: pre;
        }
      </style>
      <style type="text/css">
        html { -webkit-text-size-adjust: 100%; }
        pre > code.sourceCode { white-space: pre; position: relative; }
        pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
        pre > code.sourceCode > span:empty { height: 1.2em; }
        .sourceCode { overflow: visible; }
        code.sourceCode > span { color: inherit; text-decoration: inherit; }
        div.sourceCode { margin: 1em 0; }
        pre.sourceCode { margin: 0; }
        @media screen {
        div.sourceCode { overflow: auto; }
        }
        @media print {
        pre > code.sourceCode { white-space: pre-wrap; }
        pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
        }
        pre.numberSource code
          { counter-reset: source-line 0; }
        pre.numberSource code > span
          { position: relative; left: -4em; counter-increment: source-line; }
        pre.numberSource code > span > a:first-child::before
          { content: counter(source-line);
            position: relative; left: -1em; text-align: right; vertical-align: baseline;
            border: none; display: inline-block;
            -webkit-touch-callout: none; -webkit-user-select: none;
            -khtml-user-select: none; -moz-user-select: none;
            -ms-user-select: none; user-select: none;
            padding: 0 4px; width: 4em;
            color: #aaaaaa;
          }
        pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
        div.sourceCode
          {  background-color: #f8f8f8; }
        @media screen {
        pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
        }
        code span.al { color: #ef2929; } /* Alert */
        code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
        code span.at { color: #204a87; } /* Attribute */
        code span.bn { color: #0000cf; } /* BaseN */
        code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
        code span.ch { color: #4e9a06; } /* Char */
        code span.cn { color: #8f5902; } /* Constant */
        code span.co { color: #8f5902; font-style: italic; } /* Comment */
        code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
        code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
        code span.dt { color: #204a87; } /* DataType */
        code span.dv { color: #0000cf; } /* DecVal */
        code span.er { color: #a40000; font-weight: bold; } /* Error */
        code span.ex { } /* Extension */
        code span.fl { color: #0000cf; } /* Float */
        code span.fu { color: #204a87; font-weight: bold; } /* Function */
        code span.im { } /* Import */
        code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
        code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
        code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
        code span.ot { color: #8f5902; } /* Other */
        code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
        code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
        code span.ss { color: #4e9a06; } /* SpecialString */
        code span.st { color: #4e9a06; } /* String */
        code span.va { color: #000000; } /* Variable */
        code span.vs { color: #4e9a06; } /* VerbatimString */
        code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
      </style>
            </head>
  <body>
    <div id="content">
      <header>
        <div id="name-container">
          <a href="/">leonard schütz</a>
        </div>
        <nav>
          <a href="/about">about</a>
          <a href="/blog/">blog</a>
        </nav>
      </header>
      <main class="blog-article">
<h1 id="advent-of-code-2025-in-charly">Advent of Code 2025 in
Charly</h1>
<h2 id="day-6">Day 6</h2>
<ul class="incremental">
<li><a href="../">Back to the main article</a></li>
<li><a href="../day5">Previous day</a> - <a href="../day7">Next
day</a></li>
</ul>
<blockquote>
<p>This article is part of my series on implementing each Advent of Code
2025 challenge in my own programming language Charly.</p>
</blockquote>
<h2 id="part-1">Part 1</h2>
<p>The first part of today’s puzzle asked us to solve the math homework
for the friendly cephalopods I encountered in the garbage disposal unit.
Their homework came in a file that looked like this:</p>
<pre><code>123 328  51 64
 45 64  387 23
  6 98  215 314
*   +   *   +</code></pre>
<p>Each column contained a list of input numbers and an operator to
apply to those numbers. The above worksheet contains four such
problems:</p>
<ul class="incremental">
<li><code>123</code> * <code>45</code> * <code>6</code> =
<code>33210</code></li>
<li><code>328</code> + <code>64</code> + <code>98</code> =
<code>490</code></li>
<li><code>51</code> * <code>387</code> * <code>215</code> =
<code>4243455</code></li>
<li><code>64</code> + <code>23</code> + <code>314</code> =
<code>401</code></li>
</ul>
<p>To verify your work, you had to provide the sum of all the individual
problems’ solutions.</p>
<p>My solution to part 1 of the puzzle:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> input_path <span class="op">=</span> ARGV[<span class="dv">1</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> lines <span class="op">=</span> <span class="fu">readfile</span>(input_path)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">lines</span>()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line<span class="op">,</span> i<span class="op">,</span> lines) {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> line <span class="op">=</span> line</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">split</span>(<span class="st">&quot; &quot;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span><span class="fu">filterEmpty</span>()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> i <span class="op">&lt;</span> lines<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            line <span class="op">=</span> line<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(l) l<span class="op">.</span><span class="fu">to_number</span>())</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        line</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> (<span class="op">...</span>data<span class="op">,</span> operators) <span class="op">=</span> lines</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> problems <span class="op">=</span> operators</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(op<span class="op">,</span> index) {</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> operands <span class="op">=</span> data<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(row) row[index])</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        (op<span class="op">,</span> operands)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> results <span class="op">=</span> problems<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(problem) {</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> (operand<span class="op">,</span> inputs) <span class="op">=</span> problem</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result <span class="op">=</span> operand <span class="op">==</span> <span class="st">&quot;+&quot;</span> <span class="op">?</span> inputs<span class="op">.</span><span class="fu">sum</span>() <span class="op">:</span> inputs<span class="op">.</span><span class="fu">product</span>()</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    result</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> totalSum <span class="op">=</span> results<span class="op">.</span><span class="fu">sum</span>()</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;totalSum = {totalSum}&quot;</span>)</span></code></pre></div>
<h2 id="part-2">Part 2</h2>
<p>The second part of today’s puzzle was a bit more complicated. As a
quick reminder, here’s the example worksheet again:</p>
<pre><code>123 328  51 64
 45 64  387 23
  6 98  215 314
*   +   *   +</code></pre>
<p>The cephalopods have a different way of writing down their math
problems than we humans do. I’m not going to attempt to explain this
myself, so instead I’ll just reference the problem description:</p>
<blockquote>
<p><code>Cephalopod Math</code></p>
<p>Cephalopod math is written right-to-left in columns. Each number is
given in its own column, with the most significant digit at the top and
the least significant digit at the bottom. (Problems are still separated
with a column consisting only of spaces, and the symbol at the bottom of
the problem is still the operator to use.)</p>
</blockquote>
<p>This changed the problem significantly. The worksheet now consisted
of these problems:</p>
<ul class="incremental">
<li><code>356</code> * <code>24</code> * <code>1</code> =
<code>8544</code></li>
<li><code>8</code> + <code>248</code> + <code>369</code> =
<code>625</code></li>
<li><code>175</code> * <code>581</code> * <code>32</code> =
<code>3253600</code></li>
<li><code>4</code> + <code>431</code> + <code>623</code> =
<code>1058</code></li>
</ul>
<p>I now had to consume all input lines <em>right-to-left</em> and
construct the input numbers myself. Additionally, in the example
worksheet provided, all the data columns had a width of exactly
<code>3</code>. This wasn’t the case in the actual worksheet I had to
process. Each column could be anywhere from <code>2</code> to
<code>4</code> characters wide.</p>
<p>I solved this by repeatedly popping off characters from the end of
all input lines. If all characters were whitespace, that meant I had
reached the end of a problem and could move on to the next one.</p>
<p>The rest of the puzzle remained unchanged: solve each problem by
performing either a <code>+</code> or <code>*</code> operation, and then
sum up the results to get the final solution.</p>
<p>My solution to part 2 of the puzzle:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> input_path <span class="op">=</span> ARGV[<span class="dv">1</span>]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> lines <span class="op">=</span> <span class="fu">readfile</span>(input_path)<span class="op">.</span><span class="fu">lines</span>()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> maxLineLength <span class="op">=</span> lines<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(l) l<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="fu">findMax</span>()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>lines <span class="op">=</span> lines<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line) {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> line<span class="op">.</span><span class="at">length</span> <span class="op">&lt;</span> maxLineLength {</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        line <span class="op">=</span> <span class="st">&quot;{line} &quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    line</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> (<span class="op">...</span>inputLines<span class="op">,</span> operandLine) <span class="op">=</span> lines</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> (inputs<span class="op">,</span> operands) <span class="op">=</span> (</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    inputLines<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line) line<span class="op">.</span><span class="fu">chars</span>())<span class="op">,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    operandLine<span class="op">.</span><span class="fu">split</span>(<span class="st">&quot; &quot;</span>)<span class="op">.</span><span class="fu">filterEmpty</span>()<span class="op">.</span><span class="fu">reverse</span>()</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> readerOffset <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> problems <span class="op">=</span> operands</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(operand) {</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> inputData <span class="op">=</span> []</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        loop {</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> inputs<span class="op">.</span><span class="fu">first</span>()<span class="op">.</span><span class="fu">empty</span>() {</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">break</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>            <span class="kw">const</span> charsRead <span class="op">=</span> inputs<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(chars) {</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                chars<span class="op">.</span><span class="fu">pop</span>()</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> charsRead<span class="op">.</span><span class="fu">all</span>(<span class="op">-&gt;</span>(c) c <span class="op">==</span> <span class="st">&quot; &quot;</span>) {</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                <span class="cf">break</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>            <span class="kw">const</span> number <span class="op">=</span> charsRead</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">filter</span>(<span class="op">-&gt;</span>(c) c <span class="op">!=</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">join</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span><span class="fu">to_number</span>()</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>            inputData<span class="op">.</span><span class="fu">push</span>(number)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>        (operand<span class="op">,</span> inputData)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> solutions <span class="op">=</span> problems<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(problem) {</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> (operand<span class="op">,</span> inputs) <span class="op">=</span> problem</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> result <span class="op">=</span> operand <span class="op">==</span> <span class="st">&quot;+&quot;</span> <span class="op">?</span> inputs<span class="op">.</span><span class="fu">sum</span>() <span class="op">:</span> inputs<span class="op">.</span><span class="fu">product</span>()</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    result</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> totalSum <span class="op">=</span> solutions<span class="op">.</span><span class="fu">sum</span>()</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;totalSum = {totalSum}&quot;</span>)</span></code></pre></div>
<h2 id="changes-to-the-stdlib-vm">Changes to the stdlib / VM</h2>
<p>Standard library methods I added:</p>
<ul class="incremental">
<li><code>List::all</code>: Checks whether the provided callback returns
<code>true</code> for all entries in the list</li>
<li><code>List::product</code>: Returns the product of all numbers in
the list</li>
<li><code>List::reverse</code>: Returns a copy of the list in reverse
order</li>
<li><code>List::filterEmpty</code>: Filters out all elements with
<code>length == 0</code></li>
</ul>
<p>Methods I had to modify:</p>
<ul class="incremental">
<li><code>Tuple::map</code>: Now returns a <code>List</code> instead of
a <code>Tuple</code></li>
</ul>
<p>You can find the individual commits below:</p>
<ul class="incremental">
<li><a
href="https://github.com/KCreate/charly-vm/commit/8abec0b7ef2e7fdaea38b0ca35b6cbea975e48ed"><code>8abec0b</code></a>
<code>Add List::all</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/279726eb608dddee42e2a5b03038b2c5b01d6521"><code>279726e</code></a>
<code>Add List::product</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/d967d7a27090a7a548590fe94d2522de09a97373"><code>d967d7a</code></a>
<code>Add List::reverse</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/4cba80b63965a5261c99a6cea791265e9f6921b4"><code>4cba80b</code></a>
<code>Add List::filterEmpty</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/9eb9e54a963378e254e9a878ec6835aea93fae27"><code>9eb9e54</code></a>
<code>Modify Tuple::map to return a List, not Tuple</code></li>
</ul>
<h2 id="late-night-addendum">Late-night addendum</h2>
<p>I was really inspired by the solution that <a
href="https://github.com/lukaslebo/AdventOfCode/blob/3fc3f5ef8843e10921c085820dff97835f17e94f/year2025/src/day06/Day06.kt#L38-L58">Lukas
Lebovitz</a> came up with, so I decided to port it to Charly. Since his
code relies heavily on Kotlin standard library functions, I first had to
implement those in the Charly standard library as well. My final version
looks like this:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> input_path <span class="op">=</span> ARGV[<span class="dv">1</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">// ensure all lines have the same length, as the IDE will remove trailing spaces</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> lines <span class="op">=</span> <span class="fu">readfile</span>(input_path)<span class="op">.</span><span class="fu">lines</span>()<span class="op">.</span><span class="fu">apply</span>(<span class="op">-&gt;</span>(lines) {</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> maxLength <span class="op">=</span> lines<span class="op">.</span><span class="fu">findMaxBy</span>(<span class="op">-&gt;</span>(it) it<span class="op">.</span><span class="at">length</span>)<span class="op">.</span><span class="at">length</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    lines<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line) line<span class="op">.</span><span class="fu">padRight</span>(maxLength<span class="op">,</span> <span class="st">&quot; &quot;</span>))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line) line<span class="op">.</span><span class="fu">chars</span>())</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">// originally implemented in Kotlin by @lukaslebo</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> totalSum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> currentProblemOperands <span class="op">=</span> []</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>lines<span class="op">.</span><span class="fu">first</span>()<span class="op">.</span><span class="fu">indices</span>()<span class="op">.</span><span class="fu">reverse</span>()<span class="op">.</span><span class="fu">each</span>(<span class="op">-&gt;</span>(i) {</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> column <span class="op">=</span> lines<span class="op">.</span><span class="fu">map</span>(<span class="op">-&gt;</span>(line) line[i])</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> digits <span class="op">=</span> column<span class="op">.</span><span class="fu">dropLast</span>(<span class="dv">1</span>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> operand <span class="op">=</span> column<span class="op">.</span><span class="fu">last</span>()</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (digits<span class="op">.</span><span class="fu">all</span>(<span class="op">-&gt;</span>(d) d <span class="op">==</span> <span class="st">&quot; &quot;</span>)) {</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        i <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    currentProblemOperands<span class="op">.</span><span class="fu">push</span>(digits<span class="op">.</span><span class="fu">join</span>(<span class="st">&quot;&quot;</span>)<span class="op">.</span><span class="fu">to_number</span>())</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">switch</span> operand {</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">&quot;+&quot;</span> totalSum <span class="op">+=</span> currentProblemOperands<span class="op">.</span><span class="fu">sum</span>()</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">&quot;*&quot;</span> totalSum <span class="op">+=</span> currentProblemOperands<span class="op">.</span><span class="fu">product</span>()</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="im">default</span> <span class="cf">return</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    currentProblemOperands<span class="op">.</span><span class="fu">clear</span>()</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;totalSum = {totalSum}&quot;</span>)</span></code></pre></div>
<p>I added the following methods to the standard library:</p>
<ul class="incremental">
<li><code>Value::also</code>: Runs the provided callback and returns
<code>self</code></li>
<li><code>Value::apply</code>: Runs the provided callback and returns
the callback’s result</li>
<li><code>Number::downTo</code>: Downwards counting variant of
<code>Number::upTo</code></li>
<li><code>Number::collectDownTo</code>: Downwards counting variant of
<code>Number::collectUpTo</code></li>
<li><code>String::padLeft</code>: Pads the beginning of a string to
reach a desired minimum length</li>
<li><code>String::padRight</code>: Pads the end of a string to reach a
desired minimum length</li>
<li><code>List::clear</code>: Clears the contents of a list</li>
<li><code>List::indices</code>: Returns a list of all valid indices</li>
<li><code>List::takeFirst</code>: Returns a copy of the list with the
first <code>N</code> elements</li>
<li><code>List::takeLast</code>: Returns a copy of the list with the
last <code>N</code> elements</li>
<li><code>List::dropFirst</code>: Returns a copy of the list without the
first <code>N</code> elements</li>
<li><code>List::dropLast</code>: Returns a copy of the list without the
last <code>N</code> elements</li>
</ul>
<p>I modified the following method:</p>
<ul class="incremental">
<li><code>List::join</code>: Added an optional mapping callback to
preprocess the list contents before joining</li>
</ul>
<p>You can find the individual commits below:</p>
<ul class="incremental">
<li><a
href="https://github.com/KCreate/charly-vm/commit/aab7c9c9133afc1adf5d2f56cf7a462a19d37d90"><code>aab7c9c</code></a>
<code>Add Value::also</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/3a13da521c5850d31eddb339039ec85628476145"><code>3a13da5</code></a>
<code>Add Value::apply</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/1c49921e4a84428dff27631aa7a694ff21448aeb"><code>1c49921</code></a>
<code>Add Number::downTo</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/f61f9903fea0075b791e5b2a8868eaa394aed523"><code>f61f990</code></a>
<code>Add Number::collectDownTo</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/7f769637ae6d56c9d8dfc02b03c45a8b6dd0ab5b"><code>7f76963</code></a>
<code>Add String::padLeft and String::padRight</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/fa1c6d1355b67edb382b6edbae582042e1ac1357"><code>fa1c6d1</code></a>
<code>Add List::clear</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/0fb468d064f00b1cb2640cef0d5f6657ceb957be"><code>0fb468d</code></a>
<code>Add List::indices</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/e89aa67249eb218c17c49f34ddb15666043fd805"><code>e89aa67</code></a>
<code>Add map callback to List::join</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/e52e0b5fa7556fc58788861f4ff88a2662e19f21"><code>e52e0b5</code></a>
<code>Add List::dropFirst and List::dropLast</code></li>
<li><a
href="https://github.com/KCreate/charly-vm/commit/579df8937ff08f91660e7e987221fb1339e35d30"><code>579df89</code></a>
<code>Add List::takeFirst and List::takeLast</code></li>
</ul>
<h2 id="links">Links</h2>
<ul class="incremental">
<li><a href="https://adventofcode.com/">Advent of Code</a></li>
<li><a href="https://github.com/KCreate/charly-vm">Charly Programming
Language</a></li>
<li><a
href="https://github.com/KCreate/advent-of-code-2025-charly/blob/main/days/day6">Source
code for today’s challenge</a></li>
</ul>
      </main>
      <hr/>
      <footer>
        <div id="social-links">
          <a href="https://github.com/KCreate" target="_blank">
            <img height="20" width="20" src="/resources/github.svg" alt="GitHub Link"/>
          </a>
          <a href="https://linkedin.com/in/leonardschuetz" target="_blank">
            <img height="20" width="20" src="/resources/linkedin.svg" alt="LinkedIn Link"/>
          </a>
          <a href="mailto:hello@leonard.swiss?subject=Hello%20Leonard!">
            <img height="20" width="20" src="/resources/mail.svg" alt="Email Link"/>
          </a>
          <a href="/rss.xml" target="_blank">
            <img height="20" width="20" src="/resources/rss.svg" alt="RSS Link"/>
          </a>
        </div>
        <div id="open-source-notice">
          <span>this blog is <a href="https://github.com/KCreate/leonardschuetz.ch" target="_blank">open-source</a></span>
        </div>
      </footer>
      <span id="copyright">Copyright © 2024 - 2025 Leonard Schütz | <a href="/attributions">Attributions</a></span>
      <span id="copyright">This post was written by a human and reviewed and proof-read by LLMs</span>
    </div>
  </body>
  <script src="/script.js" async></script>
</html>
